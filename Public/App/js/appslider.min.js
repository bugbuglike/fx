/**
 * Zepto swipeSlide Plugin
 * 西门 http://ons.me/500.html
 * 20140930 v1.1
 */
!function(a){"use strict";a.fn.swipeSlide=function(b,c){function o(a,b){a.css({"-webkit-transition":"all "+b+"s",transition:"all "+b+"s"})}function p(a,b){a.css({"-webkit-transform":"translate3d("+b+"px,0,0)",transform:"translate3d("+b+"px,0,0)"})}function q(a){if(l.lazyLoad){var b=l.ul.find("img").eq(a);b.attr("data-src")&&b.attr("src",b.attr("data-src")).removeAttr("data-src")}}function r(a){a.touches||(a.touches=a.originalEvent.touches)}function s(a){e=a.touches[0].pageX}function t(a){a.preventDefault(),l.autoSwipe&&clearInterval(h),g=a.touches[0].pageX,f=g-e,o(l.ul,0),p(l.ul,-(m*parseInt(d)-f))}function u(){Math.abs(f)<=i?v(.3):f>i?(y(),z()):-i>f&&(x(),z()),f=0}function v(a){o(l.ul,a),p(l.ul,-d*m)}function w(){d>=n?(v(.3),d=0,setTimeout(function(){v(0)},300)):0>d?(v(.3),d=n-1,setTimeout(function(){v(0)},300)):v(.3),c(d)}function x(){d++,w(),l.lazyLoad&&q(d+2)}function y(){if(d--,w(),j&&l.lazyLoad){var a=n-1;for(a;n+1>=a;a++)q(a);return j=!1,void 0}!j&&l.lazyLoad&&q(d)}function z(){l.autoSwipe&&(h=setInterval(function(){x()},l.speed))}var h,d=0,e=0,f=0,g=0,i=50,j=!0,k=a(this),l=a.extend({},{ul:k.children("ul"),li:k.children().children("li"),autoSwipe:!0,speed:4e3,lazyLoad:!1},b||{}),m=l.li.width(),n=l.li.length,c=c||function(){};!function(){if(l.ul.prepend(l.li.last().clone()).append(l.li.first().clone()),p(l.ul.children().first(),-1*m),p(l.ul.children().last(),m*n),l.lazyLoad){var b=0;for(b;2>=b;b++)q(b)}l.li.each(function(b){p(a(this),m*b)}),z(),c(d),k.on("touchstart",function(a){r(a),s(a)}),k.on("touchmove",function(a){r(a),t(a)}),k.on("touchend",function(){u()})}()}}(window.Zepto||window.jQuery);